(function(t){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],f=0,d=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"188f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("f2b1");var i=n("6ef0"),a=(n("b402"),n("7c18")),r=(n("ea3f"),n("0e86")),o=(n("9bb2"),n("a8ae")),s=(n("9fd0"),n("269b")),l=(n("3a03"),n("1084")),c=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"tabbar"},[n("li",[n("router-link",{attrs:{to:"/film"}},[t._v("影片")])],1),n("li",[n("router-link",{attrs:{to:"/cinema"}},[t._v("影院")])],1),n("li",[n("router-link",{attrs:{to:"/news"}},[t._v("咨询")])],1),n("li",[n("router-link",{attrs:{to:"/user"}},[t._v("用户")])],1)])],1)},f=[],d={data:function(){return{visible:!0}},watch:{$route:{handler:function(t){this.visible=!t.meta.flag}}}},m=d,p=(n("5c0b"),n("2877")),h=Object(p["a"])(m,u,f,!1,null,null,null),v=h.exports,y=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[n("ul",[n("li",[n("router-link",{attrs:{to:"/film/nowPlaying"}},[t._v("正在热映")])],1),n("li",[n("router-link",{attrs:{to:"/film/comingSoon"}},[t._v("即将上映")])],1)]),n("div",{staticClass:"navLine",style:{transform:"translateX("+t.style+")"}})]),n("ul",t._l(t.films,(function(e){return n("li",{key:e.filmId,on:{click:function(n){return t.go(e.filmId)}}},[n("img",{attrs:{src:e.poster,width:"100"}}),t._v(" "+t._s(e.name)+" ")])})),0)])},g=[],_=n("82ae"),w=n.n(_),O=w.a.create({baseURL:"/mz",timeout:1e4,headers:{"content-type":"application/json"}}),j=null;O.interceptors.request.use((function(t){return j=a["a"].loading({duration:0,message:"加载中...",forbidClick:!1}),t.headers["X-Client-Info"]='{"a":"3000","ch":"1002","v":"5.0.4","e":"15882362692559800509922","bc":"110100"}',t})),O.interceptors.response.use((function(t){return j.clear(),t.data}));var k=O,I=function(t){return k.get("/gateway",{params:{cityId:110100,pageNum:1,pageSize:10,type:t,k:Date.now()},headers:{"X-Host":"mall.film-ticket.film.list"}})},x=function(){return k.get("/gateway?actId=ElzMZU125260",{headers:{"X-Host":"mall.act.static-page.info"}})},N=function(){return k.get("/gateway?k=7719936",{headers:{"X-Host":"mall.film-ticket.city.list"}})},S=function(t){return k.get("https://m.maizuo.com/gateway?filmId=".concat(t,"&k=163091"),{headers:{"X-Host":"mall.film-ticket.film.info"}})},C={data:function(){return{films:[]}},computed:{style:function(){return"/film/nowPlaying"===this.$route.path?"0":"265%"}},watch:{$route:{handler:function(t){var e=this,n="nowPlaying"===t.params.type?1:2;I(n).then((function(t){e.films=t.data.films}))},immediate:!0}},methods:{go:function(t){this.$router.push("/detail/"+t)}}},$=C,P=(n("9d42"),Object(p["a"])($,b,g,!1,null,null,null)),E=P.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("cinema")])},L=[],z={},H=z,D=Object(p["a"])(H,M,L,!1,null,null,null),T=D.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{domProps:{innerHTML:t._s(t.str)}})},A=[],U={data:function(){return{str:""}},created:function(){var t=this;x().then((function(e){t.str=e.data.data.content}))}},J=U,q=Object(p["a"])(J,X,A,!1,null,null,null),B=q.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("ul",t._l(t.list,(function(t,e){return n("li",{key:e},[n("img",{attrs:{src:"https://www.lgstatic.com/"+t.companyLogo,width:"100"}})])})),0)])],1)},R=[],Z=(n("99af"),{data:function(){return{list:[],loading:!1,finished:!1,pageNo:1}},methods:{onLoad:function(){this.getData()},getData:function(){var t=this;w.a.get("/lg/listmore.json",{params:{pageNo:this.pageNo,pageSize:10}}).then((function(e){console.log(e),t.list=t.list.concat(e.data.content.data.page.result),t.pageNo++,t.loading=!1,t.list.length>100&&(t.finished=!0)}))}}}),F=Z,G=Object(p["a"])(F,K,R,!1,null,null,null),Q=G.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{width:"100%",height:"300px"},attrs:{id:"box"}}),n("van-index-bar",t._l(t.letters,(function(e){return n("div",{key:e},[n("van-index-anchor",{attrs:{index:e}}),t._l(t.cityObj[e],(function(e){return n("van-cell",{key:e.cityId,attrs:{title:e.name},on:{click:function(n){return t.saveCityNameId(e.name,e.cityId)}}})}))],2)})),0)],1)},W=[],Y=(n("4de4"),n("4160"),n("b0c0"),n("b64b"),n("ac1f"),n("5319"),n("159b"),n("5530")),tt=function(t,e){var n=new AMap.Map(t,{resizeEnable:!0,center:[116.397428,39.90923],zoom:13}),i=new AMap.CitySearch;i.getLocalCity((function(t,i){if("complete"===t&&"OK"===i.info){if(i&&i.city&&i.bounds){var a=i.city,r=i.bounds;e(a),n.setBounds(r)}}else e(i.info)}))},et=n("2f62"),nt={data:function(){return{sortCities:[],cityObj:{},letters:[]}},created:function(){var t=this;N().then((function(e){t.sortCities=e.data.cities.sort((function(t,e){return t.pinyin.localeCompare(e.pinyin)})),e.data.cities.forEach((function(e){var n=e.pinyin[0].toUpperCase();t.cityObj[n]||(t.cityObj[n]=[]),t.cityObj[n].push({cityId:e.cityId,name:e.name,pinyin:e.pinyin,isHot:e.isHot})})),t.letters=Object.keys(t.cityObj),tt("box",(function(e){if(e=e.replace("市",""),e){var n=t.sortCities.filter((function(t){return t.name===e}))[0].cityId;t.saveCityNameId(e,n)}}))}))},mounted:function(){},methods:Object(Y["a"])(Object(Y["a"])({},Object(et["b"])(["setName","setId"])),{},{saveCityNameId:function(t,e){localStorage.setItem("cityName",t),localStorage.setItem("cityId",e),this.setName(t),this.setId(e)}})},it=nt,at=Object(p["a"])(it,V,W,!1,null,null,null),rt=at.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:t.film.poster}}),n("h3",[t._v(t._s(t.film.name))]),n("p",[t._v(t._s(t.film.category))]),n("p",[t._v(t._s(t._f("formatDate")(t.film.premiereAt)))]),n("p",[t._v(t._s(t.film.filmType&&t.film.filmType.name))]),n("p",[t._v(t._s(t.film.synopsis))]),n("ul",t._l(t.film.actors,(function(e){return n("li",{key:e.name},[n("img",{attrs:{src:e.avatarAddress,width:"120"}}),n("p",[t._v(t._s(e.name))])])})),0)])},st=[],lt={data:function(){return{film:{}}},created:function(){var t=this,e=this.$route.params.id;S(e).then((function(e){t.film=e.data.film}))}},ct=lt,ut=(n("5f6c"),Object(p["a"])(ct,ot,st,!1,null,null,null)),ft=ut.exports;c["a"].use(y["a"]);var dt=[{path:"/",redirect:"/film"},{path:"/city",component:rt},{path:"/film",redirect:"/film/nowPlaying"},{path:"/detail/:id",component:ft},{path:"/film/:type",name:"film",component:E},{path:"/cinema",name:"cinema",component:T},{path:"/news",component:B,meta:{flag:!0}},{path:"/user",component:Q}],mt=new y["a"]({mode:"history",base:"/",routes:dt}),pt=mt;c["a"].use(et["a"]);var ht=new et["a"].Store({state:{cityId:localStorage.getItem("cityId")||"110100",cityName:localStorage.getItem("cityName")||"北京"},mutations:{setName:function(t,e){t.cityName=e},setId:function(t,e){t.cityId=e}},actions:{},modules:{}});n("1276");c["a"].filter("formatDate",(function(t){return new Date(1e3*t).toLocaleString().split(" ")[0]+"上映"})),c["a"].config.productionTip=!1,c["a"].use(i["a"]).use(a["a"]).use(r["a"]).use(o["a"]).use(s["a"]).use(l["a"]),new c["a"]({router:pt,store:ht,render:function(t){return t(v)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},"5f6c":function(t,e,n){"use strict";var i=n("188f"),a=n.n(i);a.a},"9c0c":function(t,e,n){},"9d42":function(t,e,n){"use strict";var i=n("b8a4"),a=n.n(i);a.a},b8a4:function(t,e,n){}});
//# sourceMappingURL=app.fa37addc.js.map